<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ksxy&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://offensiveyy.github.io/"/>
  <updated>2018-03-10T07:24:00.233Z</updated>
  <id>http://offensiveyy.github.io/</id>
  
  <author>
    <name>空山新雨</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>记我对Socket的误解</title>
    <link href="http://offensiveyy.github.io/2018/03/10/%E8%AE%B0%E6%88%91%E5%AF%B9Socket%E7%9A%84%E8%AF%AF%E8%A7%A3/"/>
    <id>http://offensiveyy.github.io/2018/03/10/记我对Socket的误解/</id>
    <published>2018-03-10T05:35:43.000Z</published>
    <updated>2018-03-10T07:24:00.233Z</updated>
    
    <content type="html"><![CDATA[<h2 id="误解"><a href="#误解" class="headerlink" title="误解"></a>误解</h2><p>记得刚开始学习Java网络编程的时候，接触的便是Socket，通过Socket和SocketServer建立一个TCP连接，然后获取网络流对象来传递数据。一个经典TCP连接建立过程：</p><p>客户端：</p><ul><li>创建一个 Socket 实例：构造函数向指定的远程主机和端口建立一个 TCP 连接；</li><li>通过套接字的 I/O 流与服务端通信；</li><li>使用 Socket 类的 close() 方法关闭连接。</li></ul><p>服务端:</p><ul><li>创建一个 ServerSocket 实例并指定本地端口，用来监听客户端在该端口发送的 TCP 连接请求；</li><li>重复执行：<ul><li>调用 ServerSocket 的 accept()方法以获取客户端连接，并通过其返回值创建一个 Socket 实例；</li><li>为返回的 Socket 实例开启新的线程，并使用返回的 Socket 实例的 I/O 流与客户端通信； 通信完成后，使用 Socket 类的 close()方法关闭该客户端的套接字连接。</li></ul></li></ul><p>在计算机网络课程中，了解到Socket的定义：</p><blockquote><p>套字节Socket = (IP地址 : 端口号)</p></blockquote><p>于是一直认为<del>Socket其实就是在封装了TCP协议的实现</del>。</p><p>PS：在Java的API中，Socket类确实就是封装TCP协议的实现。</p><h2 id="疑惑"><a href="#疑惑" class="headerlink" title="疑惑"></a>疑惑</h2><p>关于Socket的这个误解一直伴随着我到网络编程的课程上，上课使用的编程语言是C#。在C#中创建一个Socket对象如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Socket socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.IP);</span><br></pre></td></tr></table></figure></p><p>该构造函数的参数含义：</p><p>第一参数定义了该Socket支持的协议族，AddressFamily.InterNetwork表示IPv4；</p><p>第二参数定义了该Socket的类型，SocketType.Stream表示TCP，此外还有Dgram(UDP)、Raw、Rdm、Seqpacket。</p><p>第三参数定义了该Socket支持协议，主要有IP、Tcp、Udp、Icmp、Ggp等。</p><p><a href="https://docs.microsoft.com/zh-cn/dotnet/api/system.net.sockets.socket?view=netframework-4.7.1" target="_blank" rel="noopener">关于C#的Socket的更多说明</a></p><p>是不是和Java的Socket有大不同？到了这里，我才意识到我以前对Socket的理解太肤浅了。</p><h2 id="Socket究竟为何物？"><a href="#Socket究竟为何物？" class="headerlink" title="Socket究竟为何物？"></a>Socket究竟为何物？</h2><p>我们知道目前的TCP/IP网络模型，从上往下为：<br>应用层、运输层、网际层、网络接口层。</p><p>应用层包含众多应用协议，比如HTTP、SNMP、POP3等协议，这些协议的规定信息与数据报文在网络之中传输行为无关，只面向具体应用服务。</p><p>运输层就只有TCP与UDP协议，TCP协议通过握手机制、确认重传机制来提供可靠的连接，UDP则比较简单，因为提供不可靠的连接，所以不需要像TCP那样复杂。</p><p>网际层主要是提供网络中寻址的IP协议，还有用于数据包传输控制的多种路由协议、ICMP、IGMP等。</p><p>网络接口层包含了数据链路层和物理层，但在应用层软件开发中一般不需我们去关心。</p><p><strong>那么Socket和这些网络协议有什么关系呢？</strong></p><p>Socket主要和运输层和网际层这两层的协议有关，他们关系就像接口和实现类之间的关系。</p><p>Java中的Socket封装了TCP的实现，而在C#中Socket封装了多种协议的实现，通过构造函数的参数来选择Socket具体实现协议。所以Socket准确来说，应该是一个网络协议的编程接口，他不是为特定的协议设计。TCP、UDP协议都只是Socket的具体实现。</p><p>计算机网络课程教材上定义的Socket=(IP地址:端口号)，只有Socket的实现协议为运算层协议的时候才正确。当他的具体实现为ICMP(ping命令的数据包用的就是ICMP协议)时，更本不需要一个端口号。</p><p>参考:</p><ul><li><a href="https://www.zhihu.com/question/39541968" target="_blank" rel="noopener">TCP/IP、Http、Socket的区别? -知乎</a></li><li><a href="http://wiki.jikexueyuan.com/project/java-socket/socket-advanced.html" target="_blank" rel="noopener">Java TCP/IP Socket 编程</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;误解&quot;&gt;&lt;a href=&quot;#误解&quot; class=&quot;headerlink&quot; title=&quot;误解&quot;&gt;&lt;/a&gt;误解&lt;/h2&gt;&lt;p&gt;记得刚开始学习Java网络编程的时候，接触的便是Socket，通过Socket和SocketServer建立一个TCP连接，然后获取网络流对
      
    
    </summary>
    
      <category term="计算机网络" scheme="http://offensiveyy.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Socket" scheme="http://offensiveyy.github.io/tags/Socket/"/>
    
      <category term="网络编程" scheme="http://offensiveyy.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Android知识体系脑图</title>
    <link href="http://offensiveyy.github.io/2018/03/09/Android%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/"/>
    <id>http://offensiveyy.github.io/2018/03/09/Android知识体系/</id>
    <published>2018-03-09T08:40:31.000Z</published>
    <updated>2018-03-09T14:19:28.530Z</updated>
    
    <content type="html"><![CDATA[<p>作为一个靠自己摸爬滚打、自主探究的Android程序员，常常迷失在复杂的Android系统之中，面对日新月异的新技术，我们竭力追赶，但是在开发中，还是常常陷入一些莫名奇妙的bug之中，有时在网上搜搜到了解决方案，但是也有可能已经过时了，在新的系统版本中不适用。如果能有一个详细的学习体系结构，相信对系统地学习Android开发是有事半功倍的作用的。前几天，就在网上了解到了别人总结的Android知识体系，于是速速收藏，以便学习查阅。<br>    <img src="https://i.loli.net/2018/03/09/5aa26967de76b.jpeg" alt="Android知识架构脑图.jpeg"><br>    <a href="https://www.diycode.cc/topics/1172" target="_blank" rel="noopener">原文链接</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;作为一个靠自己摸爬滚打、自主探究的Android程序员，常常迷失在复杂的Android系统之中，面对日新月异的新技术，我们竭力追赶，但是在开发中，还是常常陷入一些莫名奇妙的bug之中，有时在网上搜搜到了解决方案，但是也有可能已经过时了，在新的系统版本中不适用。如果能有一个详
      
    
    </summary>
    
      <category term="Android" scheme="http://offensiveyy.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://offensiveyy.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>关于</title>
    <link href="http://offensiveyy.github.io/2018/03/06/%E5%85%B3%E4%BA%8E/"/>
    <id>http://offensiveyy.github.io/2018/03/06/关于/</id>
    <published>2018-03-06T15:47:26.000Z</published>
    <updated>2018-03-09T08:24:32.179Z</updated>
    
    <content type="html"><![CDATA[<h2 id="我是…"><a href="#我是…" class="headerlink" title="我是…"></a>我是…</h2><p>一个生性平和又勇于奋斗的偏佛系95后，一只Andoid程序猿，来自厂里，号称厂里的帅小伙。喜欢各种新奇的App，也喜欢喜欢研究与Android相关的各种黑科技。喜欢听音乐，口味偏向粤语歌和吉他曲。</p><h2 id="关于该博客"><a href="#关于该博客" class="headerlink" title="关于该博客"></a>关于该博客</h2><p>以前一直想搞一个个人博客，奈何博主在前端设计与技术这方面知识比较欠缺，所以一直跳票。但为了更好地记录自己的经历，在2018年3月初，在一个<a href="http://xuyonglin222.github.io" target="_blank" rel="noopener">前端老铁</a>的帮助下成功搭建了这个博客，在这鸣谢一下该老铁。该博客用Hexo+Github+Material主题进行搭建，用于个人的学习记录和日常分享。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;我是…&quot;&gt;&lt;a href=&quot;#我是…&quot; class=&quot;headerlink&quot; title=&quot;我是…&quot;&gt;&lt;/a&gt;我是…&lt;/h2&gt;&lt;p&gt;一个生性平和又勇于奋斗的偏佛系95后，一只Andoid程序猿，来自厂里，号称厂里的帅小伙。喜欢各种新奇的App，也喜欢喜欢研究与An
      
    
    </summary>
    
      <category term="日常" scheme="http://offensiveyy.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
  </entry>
  
</feed>
